{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Device Schema",
  "type": "object",
  "additionalProperties": false,
  "properties": {
    "device_internal_id": {
      "type": "string",
      "description": "Unique internal identifier for the device"
    },
    "device_manufacturer": {
      "type": "string",
      "description": "Manufacturer of the device"
    },
    "device_model": {
      "type": "string",
      "description": "Model name or number of the device"
    },
    "device_serial_number": {
      "type": "string",
      "description": "Serial number assigned to the individual device"
    },
    "device_calibration_date": {
      "type": "string",
      "format": "date",
      "pattern": "^\\d{4}-\\d{2}-\\d{2}$",
      "description": "Date of last calibration (format YYYY-MM-DD)"
    },
    "device_firmware_version": {
      "type": "string",
      "description": "Firmware version installed on the device"
    },
    "device_datasheet_id": {
      "type": "string",
      "pattern": "^[a-z0-9][a-z0-9._-]*(-v[0-9]+(\\.[0-9]+)*)?$",
      "description": "Reference to the general device specifications. Datasheet ID (slug). Version suffix optional; e.g., lumitech-lt100-v1.0"
    },
    "device_sensors": {
      "type": "array",
      "description": "List of sensors contained within the device",
      "default":[],
      "items": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "device_sensor_type": {
            "type": "string",
            "description": "Type of sensor (e.g., photopic light sensor, UV sensor)"
          },
          "device_sensor_datasheet_id": {
            "type": "string",
            "pattern": "^[a-z0-9][a-z0-9._-]*(-v[0-9]+(\\.[0-9]+)*)?$",
            "description": "Reference to detailed datasheet of the sensor"
          }
        },
        "required": ["device_sensor_type"]
      }
    }
  },
  "required": [
    "device_internal_id",
    "device_manufacturer",
    "device_model",
    "device_serial_number",
    "device_calibration_date",
    "device_datasheet_id"
  ],
    "examples": [
    {
      "device_internal_id": "D001",
      "device_manufacturer": "ExampleCorp",
      "device_model": "XC1000",
      "device_serial_number": "SN123456",
      "device_calibration_date": "2025-05-01",
      "device_firmware_version": "v1.2.3",
      "device_datasheet_id": "lumitech-lt100-v1.0",
      "device_sensors": [
        {
          "device_sensor_type": "photopic",
          "device_sensor_datasheet_id": "lumitech-lt100-sensorA-v1.0"
        }
      ]
    }
  ]
}
