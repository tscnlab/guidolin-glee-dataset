{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Study Schema",
  "type": "object",
  "properties": {
    "study_internal_id": {
      "type": "string",
      "description": "Unique identifier for study"
    },
    "study_title": {
      "type": "string",
      "description": "Study-level metadata"
    },
    "study_preregistration": {
      "type": "string",
      "description": "DOI (Digital Object Identifier) of pre-registration document describing data collection"
    },
    "study_ethics": {
      "type": "string",
      "description": "Name of ethics committee and approval number"
    },
    "study_registration": {
      "type": "string",
      "description": "Registry and ID of clinical trial registration"
    },
    "study_short_description": {
      "type": "string",
      "description": "Short narrative description of the study"
    },
    "study_sample": {
      "type": "string",
      "description": "Short description of the study sample"
    },
    "study_groups": {
      "type": "array",
      "description": "Groups in the study",
      "items": {
        "type": "object",
        "properties": {
          "study_group_name": {
            "type": "string",
            "description": "Group name"
          },
          "study_group_description": {
            "type": "string",
            "description": "Group description"
          },
          "study_group_size": {
            "type": "integer",
            "description": "Sample size"
          },
          "study_group_inclusion": {
            "type": "array",
            "description": "Inclusion criteria for sample group, given as an array of strings",
            "items": {
              "type": "string"
            }
          },
          "study_group_exclusion": {
            "type": "array",
            "description": "Exclusion criteria for sample group, given as an array of strings",
            "items": {
              "type": "string"
            }
          }
        },
        "required": ["study_group_name"]
      }
    },
    "study_intervention": {
      "type": "string",
      "description": "Short description of the study intervention, if any"
    },
    "study_setting": {
      "type": "string",
      "description": "Description of the study setting"
    },
    "study_geographical_location": {
      "type": "string",
      "description": "Geographical location and context (city/rural, urban)"
    },
    "study_contributors": {
      "type": "array",
      "description": "Any contributors to the study",
      "items": {
        "$ref": "contributor.schema.json"
      }
    },
    "study_datasets": {
      "type": "array",
      "description": "Datasets contained within the study",
      "items": {
        "type": "string"
      }
    },
    "study_type": {
      "type": "string",
      "description": "Type of study (not explicitly described, placeholder)"
    },
    "study_funding_sources": {
      "type": "array",
      "description": "Any funding sources supporting the project. If the funding number is available, it should be given",
      "items": {
        "type": "string"
      },
      "minItems": 1
    },
    "study_keywords": {
      "type": "array",
      "description": "Key words describing the projects",
      "items": {
        "type": "string"
      }
    }
  },
  "required": [
    "study_internal_id",
    "study_title",
    "study_short_description",
    "study_sample",
    "study_setting",
    "study_geographical_location",
    "study_datasets"
  ]
}
